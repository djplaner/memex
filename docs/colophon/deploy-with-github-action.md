# Deploy with github action

See also: [[colophon]]

The new Mac is a bit dodgy with large commits/pushes to GitHub. Which is a part of the standard deploy process with [[why-mkdocs-foam]]. 


## First attempt

One solution is to [deploy mkdocs with a GitHub action](https://github.com/marketplace/actions/deploy-mkdocs).  

!!! warning "Avoid outdated"

Requirements 

1. [X] Enable GitHub pages 
2. [X] Building with `[PERSONAL|GITHUB]_TOKEN? (using GITHUB)
3. [X] Which mkdocs plugins

Working? - no `No event triggers define in "on"`

Out of date.

## Second attempt - use the Material for [mkdocs approach](https://squidfunk.github.io/mkdocs-material/publishing-your-site/)

!!! success "Working!!!!!"

First attempt fails 
> Deploy - Process completed with exits code 1.

Double check gh-pages as publish branch - this probably won't make any difference

No it didn't, but if you dig down into the error message from GitHub the issue is that the `roamlinks` plugin isn't available.  Meaning I'll need to identify the Foam requirements and add those, but also that the Collections repo should work with this fine.

Collections updated.  Identified the additional modules and updated the ci.yml.

Done.






[//begin]: # "Autogenerated link references for markdown compatibility"
[colophon]: colophon "Colophon"
[why-mkdocs-foam]: why-mkdocs-foam "Why combine mkdocs with Foam"
[//end]: # "Autogenerated link references"