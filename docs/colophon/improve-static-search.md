---
title: Improve static search
type: note
tags:
    - colophon
    - search
---

[[comparing-wordpress-to-memex|Comparing Wordpress to Memex]] revealed that the MkDocs static search's payload (14 Mb) significantly increases the size of the web pages. Look into alternatives - server side or client.

[lunr.js](https://github.com/olivernn/lunr.js/) used by MkDocs hasn't been updated recently (5-7 years)

## Alternatives

[PageFind](https://pagefind.app) - client site static site search designed to work well with large sites.

## Early test with Page Find

Runs after SSG and outputs static search bundle to the generated site. Comes with a Python wrapper. Quick analysis with Lighthouse gives the following results - Page Find is faster than lunr.js (the MkDocs search). It also shows that perhaps Lighthouse analysis is not perfect. However, the difference is sufficient to try a full scale implementation.

| Site config | Performance |
|-------------|-------------|
| MkDocs with no search | 96 |
| MkDocs with lunr.js search | 80 |
| MkDocs with Page Find search | 97 |

## Migration to Page Find

Seems to involve the following steps:

- Modify the MkDocs configuration to remove the lunr.js search plugin.
- Modify the MkDocs themes to include the Page Find search interface.
- Add the Page Find build step at the MkDocs build.
- Make any additional changes required.




[//begin]: # "Autogenerated link references for markdown compatibility"
[comparing-wordpress-to-memex|Comparing Wordpress to Memex]: comparing-wordpress-to-memex "Comparing Wordpress to Memex"
[//end]: # "Autogenerated link references"