---
title: Wood duck meadows gallery generator
type: "computational-component"
tags: 
    - colophon
    - computational-component 
---

## Purpose

Python script using the `mkdocs-gen-files` plugin to generate a gallery page containing all of the photos of:

1. [[wood-duck-meadows]] - Photos appearing on pages for the zones of [[wood-duck-meadows]] as specified in the landscape-garden/NAV file.
2. [[plants]] - Photos appearing on pages linked from the [[plants]] page.
3. [[individual-plants]] - Photos on pages linked from the [[individual-plants]] page

The resulting page will mirror the user-experience of the [life-list-gallery](../sense/birdwatching/life-list-gallery) page.

- A markdown page containing a list of photos.
- Use of glightbox plugin to provide a gallery feature to allow user to step through just the photos.
- The gallery photo display will include useful captions.
- Page will divide the photos into the following structure

    - Wood duck meadows

        Sequence of sections for each zone containing the photos from that zones pages.

    - Plants

        Sequence of sections for each plant containing the photos from that plant's page.

- Each section to provide links to the originating page.

## Initial algorithm design

End result was quite different. Major change was loading page content in the initial retrieve methods.

```Python

DOC_FOLDER="use mkdocs-gen-files to get docs folder"
GARDEN_FOLDER="${DOC_FOLDER}/sense/landscape-garden/"
PLANTS_FOLDER="${GARDEN_FOLDER}/plants/"

# Generate array of hashes for all pages in GARDEN_FOLDER/NAV.md
# { page-title: "", path: "" }
zonePages = retrieveZonePages(GARDEN_FOLDER)
# Generate array of hashes for all pages in PLANTS_FOLDER 
# excluding some specific ones
# { page-title: "", path: "" }
plantPages = retrievePlantsPages(PLANTS_FOLDER)

# Generate hash (on zone page title) of array of hashes (photo details)
# { alt-tag: "", path: "", caption: ""}
zonePhotos = retrieveZonePhotos(zonePages)
# for each file
#   extract <figure markdown> from file

# { alt-tag: "", path: "", caption: ""}
plantPhotos = retrievePlantPhotos(plantPages)
# use duplicates to indicate duplicates as required
# generate a hash (keyed on photo path) of hashes (photo details)
# { alt-tag: "", path: "", caption: ""}
duplicatePhotos = detectDuplicates( zonePhotos, plantPhotos)

# Create the file using mkdoc-gen-files
generateGallery(zonePages, plantPages, zonePhotos, plantPhotos, duplicatePhotos)
# Add boilerplate template to file
# for each page in zonePages
#   Add zonePage boilerplate
#   for each photo in zone/plantPhotos[page]
#       Add photo boilerPlate
#
# close file
```



[//begin]: # "Autogenerated link references for markdown compatibility"
[wood-duck-meadows]: ../sense/landscape-garden/wood-duck-meadows "Wood duck meadows"
[plants]: ../sense/landscape-garden/plants/plants "Plants"
[individual-plants]: ../sense/landscape-garden/individual-plants/individual-plants "Individual plants"
[life-list-gallery]: ../sense/birdwatching/life-list-gallery "Life list gallery"
[//end]: # "Autogenerated link references"