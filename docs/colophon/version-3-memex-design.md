---
title: 'Memex - Version 3 '
type: 'note'
tags: colophon
---

See also: [[colophon]]

Time for this site to evolve for [reasons explained here](https://djon.es/blog/2025/01/12/what-now/). More detail on how and what was done will appear here.

## Purpose

- reduce reliance on cloud services (e.g. github) and move to self-hosting, which also unifies my websites

    Just about working
- improve usefulness of home page 

    - Move away from seek/sense/share
- Fix errors

## New Methods

### Publish site

Publish site locally into a git repo and push changes to [djon.es/memex/](https://djon.es/memex/).

1. Pre-requisite the site folder in the memex repo needs to be a clone of ssh://djones@djon.es/home/djones/public_html/memex/
2. Edit memex markdown files and associated in site as per normal.
3. from `memex` folder run `mkdocs build` to construct HTML in the site folder.
4. commit the updated site folder by 
    1. `cd site`
    2. `git add -u`
    3. `git commit -m "_Update text_"`
    4. `git push -u origin master`

### Update github published site

Run `mkdocs gh-deploy --force` from the `memex` folder

## Dev log

Tasks done

- [Fix bugs](#fix-bugs) in the markdown files
- Changes to [design of the website](#web-design) 
- Move to [self-publishing](#self-publish) the site
- Add [redirect from github pages](#redirect-from-github-pages)

### Fix bugs

1. Links to PDFs not working (see page "discipline role models")

    [Stackoverflow](https://stackoverflow.com/questions/69237778/how-to-embed-a-local-pdf-file-in-mkdocs-generated-website-on-github-pages/69276900#69276900)

### Web design

Home page changes

- Remove the current seek/sense/share structure
- Add "Recent changes" section - updated from git commits
- Add "Current priorities" section - Bit more detail on specific projects

### Technology 


### Self-publish

Possible approaches

1. **FAIL** GitHub using [git-deploy](https://www.frontendhero.dev/tutorial/deploying-github-commits-to-ftp-server/)

    Commit is only managing the markdown files, not the publishing of the site.

2. **FAIL** git-ftp

    Ditto, commit (locally) only doing the markdown files.

3. **FAIL** mkdocs build ; Cyberduck sync

    mkdocs build rebuilds the entire site, meaning that the entire site is uploaded each time.

4. **SUCCESS** mkdocs build to a git repo that is synced to djon.es

    - mkdocs build to a folder outside original _memex_ repo **not possible**
    - create a git repo within _site_ folder **DONE**
        - `git init .`
        - `git add --all`
        - `git commit -m "Initial commit"`
    - Test if git is able to pick up only changes with a new _mkdocs build_
        - Update this file
        - `mkdocs build`
        - `git add -u`
        - `git commit -m "First update"`
    - Can the repo be pushed to djon.es?
        See ["Hosting remote git repos with cpanel"](https://cpanel.net/blog/tips-and-tricks/hosting-remote-git-repositories-with-cpanel/) with the process 
        1. Create & upload ssh keys to djon.es

### Redirect from github pages

Steps

1. Header redirect

[//begin]: # "Autogenerated link references for markdown compatibility"
[colophon]: colophon "About (Colophon)"
[//end]: # "Autogenerated link references"